---
import Player from '@/components/bento/Player'
import { SITE } from '@/consts'
import Layout from '@/layouts/Layout.astro'
import { getCollection } from 'astro:content'

import PhaserGame from '@/components/ui/phaser'

const blog = (await getCollection('blog'))
  .filter((post) => !post.data.draft)
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
  .slice(0, SITE.NUM_POSTS_ON_HOMEPAGE)
---

<Layout title="Home" description={SITE.DESCRIPTION}>
  <html>
    <head>
      <script src="/bundle.min.js" defer></script>
      <!-- <script src="https://unpkg.com/wavesurfer.js"></script> -->
      <!-- Phaser 게임 번들 -->
    </head>
    <body>
      <section class="mx-auto max-w-[800px] px-4" aria-label="Phaser Game">
        <PhaserGame />
        <!-- 게임 -->
      </section>
    </body>
  </html>

  <section
    class="mx-auto grid max-w-[800px] grid-cols-3 gap-5 px-4"
    aria-label="Personal information and activity grid"
  >
    <Player client:load />
  </section>
</Layout>
